{
  "version": 3,
  "sources": ["../../confetti-js/dist/index.js"],
  "sourcesContent": ["'use strict';\n\nfunction ConfettiGenerator(params) {\n  //////////////\n  // Defaults\n  var appstate = {\n    target: 'confetti-holder', // Id of the canvas\n    max: 80, // Max itens to render\n    size: 1, // prop size\n    animate: true, // Should animate?\n    respawn: true, // Should confettis be respawned when getting out of screen?\n    props: ['circle', 'square', 'triangle', 'line'], // Types of confetti\n    colors: [[165,104,246],[230,61,135],[0,199,228],[253,214,126]], // Colors to render confetti\n    clock: 25, // Speed of confetti fall\n    interval: null, // Draw interval holder\n    rotate: false, // Whenever to rotate a prop\n    start_from_edge: false, // Should confettis spawn at the top/bottom of the screen?\n    width: window.innerWidth, // canvas width (as int, in px)\n    height: window.innerHeight // canvas height (as int, in px)\n  };\n\n  //////////////\n  // Setting parameters if received\n  if(params) {\n    if(params.target)\n      appstate.target = params.target;\n    if(params.max)\n      appstate.max = params.max;\n    if(params.size)\n      appstate.size = params.size;\n    if(params.animate !== undefined && params.animate !== null)\n      appstate.animate = params.animate;\n    if(params.respawn !== undefined && params.respawn !== null)\n      appstate.respawn = params.respawn;\n    if(params.props)\n      appstate.props = params.props;\n    if(params.colors)\n      appstate.colors = params.colors;\n    if(params.clock)\n      appstate.clock = params.clock;\n    if(params.start_from_edge !== undefined && params.start_from_edge !== null)\n      appstate.start_from_edge = params.start_from_edge;\n    if(params.width)\n      appstate.width = params.width;\n    if(params.height)\n      appstate.height = params.height;\n    if(params.rotate !== undefined && params.rotate !== null)\n      appstate.rotate = params.rotate;\n  }\n\n  //////////////\n  // Early exit if the target is not the correct type, or is null\n  if(\n    typeof appstate.target != 'object' &&\n    typeof appstate.target != 'string'\n  ) {\n    throw new TypeError('The target parameter should be a node or string');\n  }\n\n  if(\n    (typeof appstate.target == 'object' && (appstate.target === null || !appstate.target instanceof HTMLCanvasElement)) ||\n    (typeof appstate.target == 'string' && (document.getElementById(appstate.target) === null || !document.getElementById(appstate.target) instanceof HTMLCanvasElement))\n  ) {\n    throw new ReferenceError('The target element does not exist or is not a canvas element');\n  }\n\n  //////////////\n  // Properties\n  var cv = typeof appstate.target == 'object'\n    ? appstate.target\n    : document.getElementById(appstate.target);\n  var ctx = cv.getContext(\"2d\");\n  var particles = [];\n\n  //////////////\n  // Random helper (to minimize typing)\n  function rand(limit, floor) {\n    if(!limit) limit = 1;\n    var rand = Math.random() * limit;\n    return !floor ? rand : Math.floor(rand);\n  }\n\n  var totalWeight = appstate.props.reduce(function(weight, prop) {\n    return weight + (prop.weight || 1);\n  }, 0);\n  function selectProp() {\n    var rand = Math.random() * totalWeight;\n    for (var i = 0; i < appstate.props.length; ++i) {\n      var weight = appstate.props[i].weight || 1;\n      if (rand < weight) return i;\n      rand -= weight;\n    }\n  }\n\n  //////////////\n  // Confetti particle generator\n  function particleFactory() {\n    var prop = appstate.props[selectProp()];\n    var p = {\n      prop: prop.type ? prop.type : prop, //prop type\n      x: rand(appstate.width), //x-coordinate\n      y: appstate.start_from_edge ? (appstate.clock >= 0 ? -10 : parseFloat(appstate.height) + 10) : rand(appstate.height), //y-coordinate\n      src: prop.src,\n      radius: rand(4) + 1, //radius\n      size: prop.size,\n      rotate: appstate.rotate,\n      line: Math.floor(rand(65) - 30), // line angle\n      angles: [rand(10, true) + 2, rand(10, true) + 2, rand(10, true) + 2, rand(10, true) + 2], // triangle drawing angles\n      color: appstate.colors[rand(appstate.colors.length, true)], // color\n      rotation: rand(360, true) * Math.PI/180,\n      speed: rand(appstate.clock / 7) + (appstate.clock / 30)\n    };\n\n    return p;\n  }\n\n  //////////////\n  // Confetti drawing on canvas\n  function particleDraw(p) {\n    if (!p) {\n      return;\n    }\n\n    var op = (p.radius <= 3) ? 0.4 : 0.8;\n\n    ctx.fillStyle = ctx.strokeStyle = \"rgba(\" + p.color + \", \"+ op +\")\";\n    ctx.beginPath();\n\n    switch(p.prop) {\n      case 'circle':{\n        ctx.moveTo(p.x, p.y);\n        ctx.arc(p.x, p.y, p.radius * appstate.size, 0, Math.PI * 2, true);\n        ctx.fill();\n        break;\n      }\n      case 'triangle': {\n        ctx.moveTo(p.x, p.y);\n        ctx.lineTo(p.x + (p.angles[0] * appstate.size), p.y + (p.angles[1] * appstate.size));\n        ctx.lineTo(p.x + (p.angles[2] * appstate.size), p.y + (p.angles[3] * appstate.size));\n        ctx.closePath();\n        ctx.fill();\n        break;\n      }\n      case 'line':{\n        ctx.moveTo(p.x, p.y);\n        ctx.lineTo(p.x + (p.line * appstate.size), p.y + (p.radius * 5));\n        ctx.lineWidth = 2 * appstate.size;\n        ctx.stroke();\n        break;\n      }\n      case 'square': {\n        ctx.save();\n        ctx.translate(p.x+15, p.y+5);\n        ctx.rotate(p.rotation);\n        ctx.fillRect(-15 * appstate.size,-5 * appstate.size,15 * appstate.size,5 * appstate.size);\n        ctx.restore();\n        break;\n      }\n      case 'svg': {\n        ctx.save();\n        var image = new window.Image();\n        image.src = p.src;\n        var size = p.size || 15;\n        ctx.translate(p.x + size / 2, p.y + size / 2);\n        if(p.rotate)\n          ctx.rotate(p.rotation);\n        ctx.drawImage(image, -(size/2) * appstate.size, -(size/2) * appstate.size, size * appstate.size, size * appstate.size);\n        ctx.restore();\n        break;\n      }\n    }\n  }\n\n  //////////////\n  // Public itens\n  //////////////\n\n  //////////////\n  // Clean actual state\n  var _clear = function() {\n    appstate.animate = false;\n    clearInterval(appstate.interval);\n\n    requestAnimationFrame(function() {\n    \tctx.clearRect(0, 0, cv.width, cv.height);\n      var w = cv.width;\n      cv.width = 1;\n      cv.width = w;\n    });\n  };\n\n  //////////////\n  // Render confetti on canvas\n  var _render = function() {\n      cv.width = appstate.width;\n      cv.height = appstate.height;\n      particles = [];\n\n      for(var i = 0; i < appstate.max; i ++)\n        particles.push(particleFactory());\n\n      function draw(){\n        ctx.clearRect(0, 0, appstate.width, appstate.height);\n\n        for(var i in particles)\n          particleDraw(particles[i]);\n\n        update();\n\n        if(appstate.animate) requestAnimationFrame(draw);\n      }\n\n      function update() {\n\n        for (var i = 0; i < appstate.max; i++) {\n          var p = particles[i];\n\n          if (p) {\n            if(appstate.animate)\n              p.y += p.speed;\n\n            if (p.rotate)\n              p.rotation += p.speed / 35;\n\n            if ((p.speed >= 0 && p.y > appstate.height) || (p.speed < 0 && p.y < 0)) {\n              if(appstate.respawn) {\n                particles[i] = p;\n                particles[i].x = rand(appstate.width, true);\n                particles[i].y = p.speed >= 0 ? -10 : parseFloat(appstate.height);\n              } else {\n                particles[i] = undefined;\n              }\n            }\n          }\n        }\n\n        if (particles.every(function(p) { return p === undefined; })) {\n          _clear();\n        }\n      }\n\n      return requestAnimationFrame(draw);\n  };\n\n  return {\n    render: _render,\n    clear: _clear\n  }\n}\n\nmodule.exports = ConfettiGenerator;\n"],
  "mappings": ";;;;;AAAA;AAAA;AAEA,aAAS,kBAAkB,QAAQ;AAGjC,UAAI,WAAW;AAAA,QACb,QAAQ;AAAA;AAAA,QACR,KAAK;AAAA;AAAA,QACL,MAAM;AAAA;AAAA,QACN,SAAS;AAAA;AAAA,QACT,SAAS;AAAA;AAAA,QACT,OAAO,CAAC,UAAU,UAAU,YAAY,MAAM;AAAA;AAAA,QAC9C,QAAQ,CAAC,CAAC,KAAI,KAAI,GAAG,GAAE,CAAC,KAAI,IAAG,GAAG,GAAE,CAAC,GAAE,KAAI,GAAG,GAAE,CAAC,KAAI,KAAI,GAAG,CAAC;AAAA;AAAA,QAC7D,OAAO;AAAA;AAAA,QACP,UAAU;AAAA;AAAA,QACV,QAAQ;AAAA;AAAA,QACR,iBAAiB;AAAA;AAAA,QACjB,OAAO,OAAO;AAAA;AAAA,QACd,QAAQ,OAAO;AAAA;AAAA,MACjB;AAIA,UAAG,QAAQ;AACT,YAAG,OAAO;AACR,mBAAS,SAAS,OAAO;AAC3B,YAAG,OAAO;AACR,mBAAS,MAAM,OAAO;AACxB,YAAG,OAAO;AACR,mBAAS,OAAO,OAAO;AACzB,YAAG,OAAO,YAAY,UAAa,OAAO,YAAY;AACpD,mBAAS,UAAU,OAAO;AAC5B,YAAG,OAAO,YAAY,UAAa,OAAO,YAAY;AACpD,mBAAS,UAAU,OAAO;AAC5B,YAAG,OAAO;AACR,mBAAS,QAAQ,OAAO;AAC1B,YAAG,OAAO;AACR,mBAAS,SAAS,OAAO;AAC3B,YAAG,OAAO;AACR,mBAAS,QAAQ,OAAO;AAC1B,YAAG,OAAO,oBAAoB,UAAa,OAAO,oBAAoB;AACpE,mBAAS,kBAAkB,OAAO;AACpC,YAAG,OAAO;AACR,mBAAS,QAAQ,OAAO;AAC1B,YAAG,OAAO;AACR,mBAAS,SAAS,OAAO;AAC3B,YAAG,OAAO,WAAW,UAAa,OAAO,WAAW;AAClD,mBAAS,SAAS,OAAO;AAAA,MAC7B;AAIA,UACE,OAAO,SAAS,UAAU,YAC1B,OAAO,SAAS,UAAU,UAC1B;AACA,cAAM,IAAI,UAAU,iDAAiD;AAAA,MACvE;AAEA,UACG,OAAO,SAAS,UAAU,aAAa,SAAS,WAAW,QAAQ,CAAC,SAAS,kBAAkB,sBAC/F,OAAO,SAAS,UAAU,aAAa,SAAS,eAAe,SAAS,MAAM,MAAM,QAAQ,CAAC,SAAS,eAAe,SAAS,MAAM,aAAa,oBAClJ;AACA,cAAM,IAAI,eAAe,8DAA8D;AAAA,MACzF;AAIA,UAAI,KAAK,OAAO,SAAS,UAAU,WAC/B,SAAS,SACT,SAAS,eAAe,SAAS,MAAM;AAC3C,UAAI,MAAM,GAAG,WAAW,IAAI;AAC5B,UAAI,YAAY,CAAC;AAIjB,eAAS,KAAK,OAAO,OAAO;AAC1B,YAAG,CAAC;AAAO,kBAAQ;AACnB,YAAIA,QAAO,KAAK,OAAO,IAAI;AAC3B,eAAO,CAAC,QAAQA,QAAO,KAAK,MAAMA,KAAI;AAAA,MACxC;AAEA,UAAI,cAAc,SAAS,MAAM,OAAO,SAAS,QAAQ,MAAM;AAC7D,eAAO,UAAU,KAAK,UAAU;AAAA,MAClC,GAAG,CAAC;AACJ,eAAS,aAAa;AACpB,YAAIA,QAAO,KAAK,OAAO,IAAI;AAC3B,iBAAS,IAAI,GAAG,IAAI,SAAS,MAAM,QAAQ,EAAE,GAAG;AAC9C,cAAI,SAAS,SAAS,MAAM,CAAC,EAAE,UAAU;AACzC,cAAIA,QAAO;AAAQ,mBAAO;AAC1B,UAAAA,SAAQ;AAAA,QACV;AAAA,MACF;AAIA,eAAS,kBAAkB;AACzB,YAAI,OAAO,SAAS,MAAM,WAAW,CAAC;AACtC,YAAI,IAAI;AAAA,UACN,MAAM,KAAK,OAAO,KAAK,OAAO;AAAA;AAAA,UAC9B,GAAG,KAAK,SAAS,KAAK;AAAA;AAAA,UACtB,GAAG,SAAS,kBAAmB,SAAS,SAAS,IAAI,MAAM,WAAW,SAAS,MAAM,IAAI,KAAM,KAAK,SAAS,MAAM;AAAA;AAAA,UACnH,KAAK,KAAK;AAAA,UACV,QAAQ,KAAK,CAAC,IAAI;AAAA;AAAA,UAClB,MAAM,KAAK;AAAA,UACX,QAAQ,SAAS;AAAA,UACjB,MAAM,KAAK,MAAM,KAAK,EAAE,IAAI,EAAE;AAAA;AAAA,UAC9B,QAAQ,CAAC,KAAK,IAAI,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,IAAI,CAAC;AAAA;AAAA,UACvF,OAAO,SAAS,OAAO,KAAK,SAAS,OAAO,QAAQ,IAAI,CAAC;AAAA;AAAA,UACzD,UAAU,KAAK,KAAK,IAAI,IAAI,KAAK,KAAG;AAAA,UACpC,OAAO,KAAK,SAAS,QAAQ,CAAC,IAAK,SAAS,QAAQ;AAAA,QACtD;AAEA,eAAO;AAAA,MACT;AAIA,eAAS,aAAa,GAAG;AACvB,YAAI,CAAC,GAAG;AACN;AAAA,QACF;AAEA,YAAI,KAAM,EAAE,UAAU,IAAK,MAAM;AAEjC,YAAI,YAAY,IAAI,cAAc,UAAU,EAAE,QAAQ,OAAM,KAAI;AAChE,YAAI,UAAU;AAEd,gBAAO,EAAE,MAAM;AAAA,UACb,KAAK,UAAS;AACZ,gBAAI,OAAO,EAAE,GAAG,EAAE,CAAC;AACnB,gBAAI,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,SAAS,SAAS,MAAM,GAAG,KAAK,KAAK,GAAG,IAAI;AAChE,gBAAI,KAAK;AACT;AAAA,UACF;AAAA,UACA,KAAK,YAAY;AACf,gBAAI,OAAO,EAAE,GAAG,EAAE,CAAC;AACnB,gBAAI,OAAO,EAAE,IAAK,EAAE,OAAO,CAAC,IAAI,SAAS,MAAO,EAAE,IAAK,EAAE,OAAO,CAAC,IAAI,SAAS,IAAK;AACnF,gBAAI,OAAO,EAAE,IAAK,EAAE,OAAO,CAAC,IAAI,SAAS,MAAO,EAAE,IAAK,EAAE,OAAO,CAAC,IAAI,SAAS,IAAK;AACnF,gBAAI,UAAU;AACd,gBAAI,KAAK;AACT;AAAA,UACF;AAAA,UACA,KAAK,QAAO;AACV,gBAAI,OAAO,EAAE,GAAG,EAAE,CAAC;AACnB,gBAAI,OAAO,EAAE,IAAK,EAAE,OAAO,SAAS,MAAO,EAAE,IAAK,EAAE,SAAS,CAAE;AAC/D,gBAAI,YAAY,IAAI,SAAS;AAC7B,gBAAI,OAAO;AACX;AAAA,UACF;AAAA,UACA,KAAK,UAAU;AACb,gBAAI,KAAK;AACT,gBAAI,UAAU,EAAE,IAAE,IAAI,EAAE,IAAE,CAAC;AAC3B,gBAAI,OAAO,EAAE,QAAQ;AACrB,gBAAI,SAAS,MAAM,SAAS,MAAK,KAAK,SAAS,MAAK,KAAK,SAAS,MAAK,IAAI,SAAS,IAAI;AACxF,gBAAI,QAAQ;AACZ;AAAA,UACF;AAAA,UACA,KAAK,OAAO;AACV,gBAAI,KAAK;AACT,gBAAI,QAAQ,IAAI,OAAO,MAAM;AAC7B,kBAAM,MAAM,EAAE;AACd,gBAAI,OAAO,EAAE,QAAQ;AACrB,gBAAI,UAAU,EAAE,IAAI,OAAO,GAAG,EAAE,IAAI,OAAO,CAAC;AAC5C,gBAAG,EAAE;AACH,kBAAI,OAAO,EAAE,QAAQ;AACvB,gBAAI,UAAU,OAAO,EAAE,OAAK,KAAK,SAAS,MAAM,EAAE,OAAK,KAAK,SAAS,MAAM,OAAO,SAAS,MAAM,OAAO,SAAS,IAAI;AACrH,gBAAI,QAAQ;AACZ;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAQA,UAAI,SAAS,WAAW;AACtB,iBAAS,UAAU;AACnB,sBAAc,SAAS,QAAQ;AAE/B,8BAAsB,WAAW;AAChC,cAAI,UAAU,GAAG,GAAG,GAAG,OAAO,GAAG,MAAM;AACtC,cAAI,IAAI,GAAG;AACX,aAAG,QAAQ;AACX,aAAG,QAAQ;AAAA,QACb,CAAC;AAAA,MACH;AAIA,UAAI,UAAU,WAAW;AACrB,WAAG,QAAQ,SAAS;AACpB,WAAG,SAAS,SAAS;AACrB,oBAAY,CAAC;AAEb,iBAAQ,IAAI,GAAG,IAAI,SAAS,KAAK;AAC/B,oBAAU,KAAK,gBAAgB,CAAC;AAElC,iBAAS,OAAM;AACb,cAAI,UAAU,GAAG,GAAG,SAAS,OAAO,SAAS,MAAM;AAEnD,mBAAQC,MAAK;AACX,yBAAa,UAAUA,EAAC,CAAC;AAE3B,iBAAO;AAEP,cAAG,SAAS;AAAS,kCAAsB,IAAI;AAAA,QACjD;AAEA,iBAAS,SAAS;AAEhB,mBAASA,KAAI,GAAGA,KAAI,SAAS,KAAKA,MAAK;AACrC,gBAAI,IAAI,UAAUA,EAAC;AAEnB,gBAAI,GAAG;AACL,kBAAG,SAAS;AACV,kBAAE,KAAK,EAAE;AAEX,kBAAI,EAAE;AACJ,kBAAE,YAAY,EAAE,QAAQ;AAE1B,kBAAK,EAAE,SAAS,KAAK,EAAE,IAAI,SAAS,UAAY,EAAE,QAAQ,KAAK,EAAE,IAAI,GAAI;AACvE,oBAAG,SAAS,SAAS;AACnB,4BAAUA,EAAC,IAAI;AACf,4BAAUA,EAAC,EAAE,IAAI,KAAK,SAAS,OAAO,IAAI;AAC1C,4BAAUA,EAAC,EAAE,IAAI,EAAE,SAAS,IAAI,MAAM,WAAW,SAAS,MAAM;AAAA,gBAClE,OAAO;AACL,4BAAUA,EAAC,IAAI;AAAA,gBACjB;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAEA,cAAI,UAAU,MAAM,SAASC,IAAG;AAAE,mBAAOA,OAAM;AAAA,UAAW,CAAC,GAAG;AAC5D,mBAAO;AAAA,UACT;AAAA,QACF;AAEA,eAAO,sBAAsB,IAAI;AAAA,MACrC;AAEA,aAAO;AAAA,QACL,QAAQ;AAAA,QACR,OAAO;AAAA,MACT;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;",
  "names": ["rand", "i", "p"]
}
